<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Assistant R√©ponses ‚Äî Riad El Maati</title>
  <style>
    :root{
      /* PALETTE ORIENTALE CHAUDE */
      --bg:#1a1208;
      --card:#24180c;
      --muted:#c9b8a3;
      --text:#fff4e6;
      --accent:#d4a24c;
      --border:rgba(255,228,196,.18);
      --ok:#3fbf8c;
      --warn:#e6b566;
      --danger:#e26d5c;
      --shadow: 0 14px 34px rgba(0,0,0,.45);
      --radius:16px;
      --mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
      --sans: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji";
    }
    *{box-sizing:border-box}
    body{
      margin:0; font-family:var(--sans);
      background:
        radial-gradient(1200px 600px at 20% -10%, rgba(212,162,76,.25), transparent 55%),
        radial-gradient(900px 500px at 80% 10%, rgba(230,181,102,.18), transparent 55%),
        var(--bg);
      color:var(--text);
    }
    header{
      padding:28px 18px 10px;
      max-width:1100px; margin:0 auto;
    }
    h1{margin:0; font-size:20px; letter-spacing:.2px}
    .sub{margin:8px 0 0; color:var(--muted); font-size:13px}
    main{max-width:1100px; margin:0 auto; padding:18px}
    .grid{
      display:grid; grid-template-columns: 1.2fr .8fr; gap:14px;
    }
    @media (max-width: 980px){ .grid{grid-template-columns:1fr} }
    .card{
      background:linear-gradient(180deg, rgba(255,200,150,.06), rgba(255,200,150,.02));
      border:1px solid var(--border);
      border-radius:var(--radius);
      box-shadow:var(--shadow);
      padding:14px;
    }
    .card h2{margin:0 0 10px; font-size:14px; color:#ffe3b3}
    label{display:block; font-size:12px; color:var(--muted); margin:10px 0 6px}
    textarea, select, input[type="text"]{
      width:100%; border:1px solid var(--border); background:#2c1e11;
      color:var(--text); border-radius:12px; padding:10px 12px;
      outline:none; font-size:13px;
    }
    textarea{min-height:160px; resize:vertical; line-height:1.45}
    .row{display:grid; grid-template-columns:1fr 1fr; gap:10px}
    @media (max-width: 520px){ .row{grid-template-columns:1fr} }
    .btns{display:flex; gap:10px; flex-wrap:wrap; margin-top:12px}
    button{
      border:1px solid var(--border);
      background:rgba(255,200,150,.06);
      color:var(--text);
      padding:10px 12px;
      border-radius:12px;
      cursor:pointer;
      font-weight:600;
      font-size:13px;
    }
    button.primary{
      background:linear-gradient(180deg, rgba(212,162,76,.55), rgba(212,162,76,.25));
      border-color:rgba(212,162,76,.65);
      color:#1a1208;
    }
    button:hover{filter:brightness(1.08)}
    button:disabled{opacity:.55; cursor:not-allowed}
    .hint{font-size:12px; color:var(--muted); margin-top:10px; line-height:1.35}
    .pill{
      display:inline-flex; align-items:center; gap:8px;
      font-size:12px; color:var(--muted);
      padding:8px 10px; border-radius:999px;
      border:1px solid var(--border); background:rgba(255,200,150,.05);
    }
    .statusDot{width:9px; height:9px; border-radius:50%}
    .ok{background:var(--ok)} .warn{background:var(--warn)} .danger{background:var(--danger)}
    .outHeader{display:flex; justify-content:space-between; align-items:center; gap:10px}
    .mono{font-family:var(--mono)}
    .small{font-size:12px; color:var(--muted)}
    .split{
      display:grid; grid-template-columns:1fr; gap:10px;
    }
    .footerNote{margin-top:16px; font-size:12px; color:var(--muted)}
    .kbd{
      font-family:var(--mono); font-size:11px; padding:2px 6px; border:1px solid var(--border);
      background:rgba(255,200,150,.08); border-radius:8px; color:#ffe3b3;
    }
  </style>
</head>
<body>
  <header>
    <h1>Assistant R√©ponses ‚Äî Riad El Maati</h1>
    <p class="sub">Colle le message client, ajoute des pr√©cisions si besoin, puis g√©n√®re une r√©ponse pro & chaleureuse (multilingue).</p>
  </header>

  <main>
    <div class="grid">
      <!-- INPUTS -->
      <section class="card">
        <h2>Entr√©es</h2>

        <label for="clientMsg">Message client (copier/coller)</label>
        <textarea id="clientMsg" placeholder="Colle ici le message re√ßu (Booking, Airbnb, WhatsApp, email, etc.)"></textarea>

        <label for="internalNotes">Pr√©cisions (facultatif)</label>
        <textarea id="internalNotes" placeholder="Ex: Check-in 15h / arriv√©e tardive ok / transfert 25‚Ç¨ / petit-d√©j 8h-11h / parking √† 2 min..."></textarea>

        <div class="row">
          <div>
            <label for="language">Langue de r√©ponse</label>
            <select id="language">
              <option value="auto" selected>Auto (d√©tecter la langue du client)</option>
              <option value="fr">Fran√ßais</option>
              <option value="en">English</option>
              <option value="es">Espa√±ol</option>
              <option value="ar">ÿßŸÑÿπÿ±ÿ®Ÿäÿ©</option>
              <option value="it">Italiano</option>
              <option value="de">Deutsch</option>
              <option value="nl">Nederlands</option>
            </select>
          </div>
          <div>
            <label for="channel">Canal</label>
            <select id="channel">
              <option value="booking" selected>Booking / OTA</option>
              <option value="airbnb">Airbnb</option>
              <option value="whatsapp">WhatsApp</option>
              <option value="email">Email</option>
              <option value="instagram">Instagram</option>
            </select>
          </div>
        </div>

        <div class="row">
          <div>
            <label for="tone">Ton</label>
            <select id="tone">
              <option value="standard" selected>Standard (pro & chaleureux)</option>
              <option value="warm">Tr√®s chaleureux</option>
              <option value="formal">Plus formel</option>
            </select>
          </div>
          <div>
            <label for="length">Longueur</label>
            <select id="length">
              <option value="short">Courte</option>
              <option value="standard" selected>Standard</option>
              <option value="detailed">D√©taill√©e</option>
            </select>
          </div>
        </div>

        <label for="riadName">Nom du riad (modifiable)</label>
        <input id="riadName" type="text" value="Riad El Maati" />

        <div class="btns">
          <button class="primary" id="btnGenerate">G√©n√©rer la r√©ponse</button>
          <button id="btnCopy" disabled>Copier</button>
          <button id="btnClear">Effacer</button>
          <span class="pill" id="statusPill"><span class="statusDot warn"></span><span id="statusText">Mode d√©mo (sans IA)</span></span>
        </div>

        <p class="hint">
          Astuce : <span class="kbd">Ctrl</span> + <span class="kbd">Entr√©e</span> pour g√©n√©rer.
          <br/>Le bloc de bienvenue est automatiquement inclus en ouverture.
        </p>
      </section>

      <!-- OUTPUT -->
      <section class="card">
        <div class="outHeader">
          <h2>R√©ponse g√©n√©r√©e</h2>
          <div class="small mono" id="meta"></div>
        </div>
        <div class="split">
          <textarea id="output" placeholder="La r√©ponse appara√Ætra ici‚Ä¶" style="min-height:420px"></textarea>
          <div class="footerNote">
            <div><strong>Important :</strong> ceci est une mini-interface. Pour brancher l‚ÄôIA, tu mets ton endpoint dans <span class="kbd">API_ENDPOINT</span> (voir script).</div>
          </div>
        </div>
      </section>
    </div>
  </main>

  <script>
    const API_ENDPOINT = "";
    const API_KEY = "";

    const $ = (id) => document.getElementById(id);

    const clientMsg = $("clientMsg");
    const internalNotes = $("internalNotes");
    const language = $("language");
    const channel = $("channel");
    const tone = $("tone");
    const length = $("length");
    const riadName = $("riadName");
    const output = $("output");

    const btnGenerate = $("btnGenerate");
    const btnCopy = $("btnCopy");
    const btnClear = $("btnClear");

    const statusPill = $("statusPill");
    const statusText = $("statusText");
    const meta = $("meta");

    function setStatus(mode){
      const dot = statusPill.querySelector(".statusDot");
      dot.classList.remove("ok","warn","danger");
      if(mode === "demo"){
        dot.classList.add("warn");
        statusText.textContent = "Mode d√©mo (sans IA)";
      }else if(mode === "live"){
        dot.classList.add("ok");
        statusText.textContent = "Mode IA (endpoint connect√©)";
      }else{
        dot.classList.add("danger");
        statusText.textContent = "Erreur";
      }
    }

    setStatus(API_ENDPOINT ? "live" : "demo");

    const WELCOME_FR = (name) => (
`Nous vous remercions pour votre message.
C‚Äôest avec grand plaisir que nous vous souhaitons par avance la bienvenue au ${name}.
Toute l‚Äô√©quipe se r√©jouit de pouvoir vous accueillir prochainement et reste √† votre enti√®re disposition pour toute information compl√©mentaire.`
    );

    function welcomeText(lang, name){
      switch(lang){
        case "en":
          return `Thank you for your message.
We are delighted to welcome you in advance to ${name}.
Our entire team looks forward to welcoming you and remains at your disposal for any further information.`;
        case "es":
          return `Muchas gracias por su mensaje.
Ser√° un placer darle la bienvenida pr√≥ximamente a ${name}.
Todo nuestro equipo se alegra de poder recibirle y queda a su disposici√≥n para cualquier informaci√≥n adicional.`;
        case "ar":
          return `ÿ¥ŸÉÿ±Ÿãÿß ÿ¨ÿ≤ŸäŸÑŸãÿß ÿπŸÑŸâ ÿ±ÿ≥ÿßŸÑÿ™ŸÉŸÖ.
Ÿäÿ≥ÿπÿØŸÜÿß ÿ£ŸÜ ŸÜÿ±ÿ≠ÿ® ÿ®ŸÉŸÖ ŸÖÿ≥ÿ®ŸÇŸãÿß ŸÅŸä ${name}.
Ÿäÿ™ÿ∑ŸÑÿπ ŸÅÿ±ŸäŸÇŸÜÿß ÿ®ÿ£ŸÉŸÖŸÑŸá ÿ•ŸÑŸâ ÿßÿ≥ÿ™ŸÇÿ®ÿßŸÑŸÉŸÖ ŸàŸäÿ®ŸÇŸâ ÿ±ŸáŸÜ ÿ•ÿ¥ÿßÿ±ÿ™ŸÉŸÖ ŸÑÿ£Ÿä ŸÖÿπŸÑŸàŸÖÿßÿ™ ÿ•ÿ∂ÿßŸÅŸäÿ©.`;
        case "it":
          return `La ringraziamo per il suo messaggio.
Saremo lieti di darle il benvenuto in anticipo presso ${name}.
Tutto il nostro team √® felice di accoglierla e resta a sua disposizione per qualsiasi ulteriore informazione.`;
        case "de":
          return `Vielen Dank f√ºr Ihre Nachricht.
Wir freuen uns, Sie schon im Voraus im ${name} begr√º√üen zu d√ºrfen.
Unser gesamtes Team freut sich auf Ihren Besuch und steht Ihnen f√ºr weitere Informationen gerne zur Verf√ºgung.`;
        case "nl":
          return `Hartelijk dank voor uw bericht.
Wij heten u alvast van harte welkom bij ${name}.
Ons hele team kijkt ernaar uit u te mogen ontvangen en staat tot uw beschikking voor verdere informatie.`;
        default:
          return WELCOME_FR(name);
      }
    }

    function inferLangFromText(text){
      const t = (text || "").toLowerCase();
      if(/[ÿ°-Ÿä]/.test(t)) return "ar";
      if(t.includes("hello") || t.includes("thanks") || t.includes("check-in")) return "en";
      if(t.includes("hola") || t.includes("gracias")) return "es";
      if(t.includes("buongiorno") || t.includes("grazie")) return "it";
      if(t.includes("hallo") || t.includes("danke")) return "de";
      if(t.includes("dank u")) return "nl";
      return "fr";
    }

    function closingSignature(){
      return `\n\nBien cordialement,\nL‚Äô√©quipe du ${riadName.value.trim() || "Riad El Maati"}`;
    }

    function buildDemoResponse(){
      const msg = clientMsg.value.trim();
      if(!msg){
        output.value = "Colle d‚Äôabord le message du client üôÇ";
        return;
      }
      const lang = (language.value === "auto") ? inferLangFromText(msg) : language.value;
      const name = riadName.value.trim() || "Riad El Maati";
      const welcome = welcomeText(lang, name);

      let body =
`Afin de vous r√©pondre au mieux, pourriez-vous nous pr√©ciser vos dates et le nombre de personnes ?
Nous revenons vers vous d√®s r√©ception.`;

      output.value = `${welcome}\n\n${body}${closingSignature()}`;
      btnCopy.disabled = false;
      meta.textContent = `${new Date().toLocaleString("fr-FR")} ‚Ä¢ Langue: ${lang.toUpperCase()} ‚Ä¢ Canal: ${channel.value}`;
    }

    btnGenerate.addEventListener("click", buildDemoResponse);

    btnCopy.addEventListener("click", async () => {
      await navigator.clipboard.writeText(output.value);
      btnCopy.textContent = "Copi√© ‚úÖ";
      setTimeout(()=> btnCopy.textContent = "Copier", 900);
    });

    btnClear.addEventListener("click", () => {
      clientMsg.value = "";
      internalNotes.value = "";
      output.value = "";
      btnCopy.disabled = true;
      meta.textContent = "";
    });

    document.addEventListener("keydown", (e) => {
      if((e.ctrlKey || e.metaKey) && e.key === "Enter"){
        e.preventDefault();
        btnGenerate.click();
      }
    });
  </script>
</body>
</html>
